# vish.kpeg - v2 redesign%% name = Vish
%% name = Vish
%% {
  attr_accessor :result
}

space = " "
- = space*
nl = "\n"
not_nl = /[^\n]/
valid_id = /[_A-Za-z][_A-Za-z0-9]*/

identifier = <valid_id  > { text.to_sym }

comment = '#' not_nl*
statement = identifier:i { i }

block = comment
          | statement:s - comment? { [s] }

root = block:b { @result = b }
